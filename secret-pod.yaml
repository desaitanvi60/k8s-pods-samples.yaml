apiVersion: v1             # Specifies the API version of Kubernetes
kind: Pod                  # Defines the object type, in this case, a Pod
metadata:
  name: secret-pod         # The name of the Pod
spec:
  containers:
  - name: busybox-container # Name of the container
    image: busybox          # Container image to be used (busybox)
    command: ["sh", "-c", "echo The username is $USERNAME"] # Command to print secret value
    env:                    # Use Secret for environment variables
    - name: USERNAME        # Variable name
      valueFrom:
        secretKeyRef:
          name: user-secret # Secret reference
          key: username     # Key in the Secret
---
apiVersion: v1             # Specifies the API version of Kubernetes
kind: Secret               # Defines the object type, in this case, a Secret
metadata:
  name: user-secret        # The name of the Secret
data:
  username: dXNlcm5hbWU=   # Base64-encoded secret data (username: 'username')

